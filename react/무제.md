# NPM과 yarn

------

### NPM ?

가장 유명한 자바스크립트 패키지 매니저로, 자바스크립트 개발자들이 가장 많이 쓰는 node.js 의 기본 패키지 관리자이기도 하다.

수많은 개발자들이 제작한 패키지를 자유롭게 공유하는 세계 최대의 패키지 저장소로, 압도적인 자료와 커뮤니티를 기반으로 거대한 개발 생태계가 구축되어있다.

 

### YARN ?

페이스북에서 제작한 새로 나온 자바스크립트 패키지 매니저입니다, 다운받은 패키지 데이터를 캐시(cache)에 저장하여, 중복된 데이터는 다운로드하지않고, 캐시에 저장된 파일을 활용함으로써 패키지 설치속도가 매우 빠릅니다.
페이스북에서 제작,운영하기에 페이스북이 프로젝트 정보 수집해가는거 아니냐며 꺼려하는 사람들도 종종 보입니다.

 

### 트렌드

npmtrend.com 에서 제공하는 자료를 보면, Github Star / Fork / Issue 에서 압도적으로 yarn에 대한 사람들의 관심도가 높음을 알 수 있습니다. yarn이 가파르게 성장하며, 점유율을 차지하고 있지만, 여전히 npm의 다운로드가 훨씬 많고, 커뮤니티의 규모도 훨씬 커서 yarn보단 npm 과 관련된 이슈나 정보를 찾는게 좀 더 수월합니다.



### 퍼포먼스 ( 성능 )

구글링을 좀 해보면 아시겠지만, 대부분 "npm이 업데이트 되서 yarn이랑 이젠 별차이 없다. " 라는 문구가 대부분입니다만, 여전히 yarn이 메인으로 내세우고 있는 Ultra Fast 의 강점을 충분히 어필할만할 정도로 체감상 속도 차이가 납니다.

이 부분은 아마 필자가 개발하는 프로젝트의 패키지 구성이 yarn의 cache 기능을 십분 활용할 만한 구성으로 되어 있기에 가능한 것일 수도 있으나, 소규모 펫 프로젝트 구성할때도 체감되는 속도 차이는 분명 있었습니다.

 

### 버전관리

사실 이부분이 yarn을 갈아탔던 주요 이유중 하나였습니다.
프로젝트의 규모가 커지면 활용되는 패키지도 많아지고, 그러다보면 패키지를 전체적으로 업데이트 해줘야되는 상황이 생깁니다.

초기 프로젝트 구성후 버전관리가 진행되지 않은 상태에서 새로운 프로젝트 환경 구성을 구성해 줄 때, 패키지들이 일괄 최신버전으로 유지되면서 , 현재 작업중인 프로젝트의 패키지들과 버전이 맞지않는 상황이 발생하게 됩니다.
여기서 npm update 무작정 진행하게 된다면, 종속된 패키지의 업데이트로 Deprecated 된 함수가 생기고, 그로인해 특정 함수가 동작하지 않는, '버전 불일치'로 인한 오류가 발생할 가능성이 상당히 큽니다.
예) 프로젝트 시작시엔 패키지A의 버전이 1.0.0 이였는데, 개발 중간에 새로운 프로젝트 환경설정을 위해 패키지 설치를 해보면 1.0.5으로 설치됨.

 

yarn은 프로젝트 구성시 yarn install 을 진행한 시점을 기준으로 버전정보가 yarn.lock 이라는 파일에 저장 됩니다.

패키지 설치시점 당시 동일한 버전정보를 저장해둠으로써 새로운 환경을 구축할때도 동일한 버전정보를 가진 패키지 구성이 될 수 있도록 도와줍니다.

 

### 접근성

아무래도 먼저 퍼블리싱되고, 점유율에서도 우위인 NPM이 유리합니다.
구글링만 해봐도 누적된 자료들과 커뮤니티의 활동 규모에서 차이가 남을 확인할 수 있습니다.
다만, 이 부분은 단순 누적자료량에 대한 비교일 뿐, 실제로 정보를 얻는데 제한되거나 불편함이 느껴질 정도로 yarn이 부족하다는 건 아닙니다.
npm은 node 의 기본저장소라 별도의 설치가 필요없는 반면, yarn은 npm 혹은 [homebrew](https://brew.sh/index_ko.html)를 통하여 별도 설치를 해야 합니다.

### 

### 결론

크게 고민하지말고 편한거 쓰면 된다



출처: https://dark0946.tistory.com/419?category=909161 [Lee's Lab]